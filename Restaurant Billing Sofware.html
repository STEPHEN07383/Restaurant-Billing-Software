<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>C:\Users\USER\Documents\Restaurant billing software\main.c</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="Code::Blocks Exporter plugin" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.style11 { color: #000000; background-color: #FFFFFF; }
.style64 { color: #C8C8C8; }
.style72 { color: #C8C8C8; }
.style75 { color: #C8C8C8; }
.style1 { color: #9898D9; }
.style23 { color: #9898D9; }
.style65 { color: #C0C0C0; }
.style87 { color: #C0C0C0; }
.style2 { color: #9898D9; }
.style66 { color: #C0C0C0; }
.style3 { color: #8080FF; font-weight: bold; }
.style24 { color: #8080FF; font-weight: bold; }
.style67 { color: #AAAAF0; font-weight: bold; }
.style88 { color: #AAAAF0; font-weight: bold; }
.style15 { color: #8080FF; font-weight: bold; }
.style79 { color: #AAAAF0; font-weight: bold; }
.style17 { color: #008080; }
.style81 { color: #6B9999; }
.style18 { color: #800000; }
.style82 { color: #AC5959; }
.style4 { color: #F000F0; }
.style68 { color: #F0C8F0; }
.style5 { color: #0000A0; font-weight: bold; }
.style69 { color: #8787C8; font-weight: bold; }
.style16 { color: #00A000; font-weight: bold; }
.style80 { color: #9AC89A; font-weight: bold; }
.style19 { color: #BE00BE; font-weight: bold; }
.style83 { color: #BE89BE; font-weight: bold; }
.style6 { color: #0000FF; }
.style12 { color: #0000FF; }
.style20 { color: #0000FF; }
.style70 { color: #BEBEFF; }
.style76 { color: #BEBEFF; }
.style7 { color: #E0A000; }
.style71 { color: #E0CE9F; }
.style8 { color: #000000; }
.style9 { color: #00A000; }
.style73 { color: #84A084; }
.style10 { color: #FF0000; }
.style74 { color: #FFC8C8; }
.style50 { color: #404080; font-style: italic; }
.style114 { color: #8585AC; font-style: italic; }
.style34 { color: #000000; background-color: #80FFFF; font-weight: bold; }
.style35 { color: #FFFFFF; background-color: #FF0000; font-weight: bold; }
.style37 { color: #373737; }
--></style></head>
<body>
<pre>
<code><span style="font: 8pt Courier New;"><span class="body">  1 </span><span class="style9">#include&lt;stdio.h&gt;</span>
<span class="body">  2  </span><span class="style9">#include&lt;string.h&gt;</span>
<span class="body">  3  </span><span class="style9">#include&lt;stdlib.h&gt;</span>
<span class="body">  4  </span>
<span class="body">  5  </span><span class="style5">struct </span><span class="style11">items</span><span class="style10">{</span>
<span class="body">  6      </span><span class="style5">char </span><span class="style11">item</span><span class="style10">[</span><span class="style4">20</span><span class="style10">];</span>
<span class="body">  7      </span><span class="style5">float </span><span class="style11">price</span><span class="style10">;</span>
<span class="body">  8      </span><span class="style5">int </span><span class="style11">qty</span><span class="style10">;</span>
<span class="body">  9  </span><span class="style10">};</span>
<span class="body"> 10  </span>
<span class="body"> 11  </span><span class="style5">struct </span><span class="style11">orders</span><span class="style10">{</span>
<span class="body"> 12      </span><span class="style5">char </span><span class="style11">customer</span><span class="style10">[</span><span class="style4">50</span><span class="style10">];</span>
<span class="body"> 13      </span><span class="style5">char </span><span class="style11">date</span><span class="style10">[</span><span class="style4">50</span><span class="style10">];</span>
<span class="body"> 14      </span><span class="style5">int </span><span class="style11">numOfItems</span><span class="style10">;</span>
<span class="body"> 15      </span><span class="style5">struct </span><span class="style11">items itm</span><span class="style10">[</span><span class="style4">50</span><span class="style10">];</span>
<span class="body"> 16  </span><span class="style10">};</span>
<span class="body"> 17  </span><span class="style2">//Functions to generate bills</span>
<span class="body"> 18  </span><span class="style5">void </span><span class="style11">generateBillHeader</span><span class="style10">(</span><span class="style5">char </span><span class="style11">name</span><span class="style10">[</span><span class="style4">50</span><span class="style10">],</span><span class="style5">char </span><span class="style11">date</span><span class="style10">[</span><span class="style4">30</span><span class="style10">]{</span>
<span class="body"> 19      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\n"</span><span class="style10">);</span>
<span class="body"> 20      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\t   ADV.Restaurant"</span><span class="style10">);</span>
<span class="body"> 21      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\t  ---------------"</span><span class="style10">);</span>
<span class="body"> 22      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nDate:%s"</span><span class="style10">,</span><span class="style11">date</span><span class="style10">);</span>
<span class="body"> 23      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nInvoice To:%s"</span><span class="style10">,</span><span class="style11">name</span><span class="style10">);</span>
<span class="body"> 24      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n"</span><span class="style10">);</span>
<span class="body"> 25      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"--------------------------------------\n"</span><span class="style10">);</span>
<span class="body"> 26      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Items\t\t"</span><span class="style10">);</span>
<span class="body"> 27      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Qty\t\t"</span><span class="style10">);</span>
<span class="body"> 28      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Total\t\t"</span><span class="style10">);</span>
<span class="body"> 29      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n---------------------------------------"</span><span class="style10">);</span>
<span class="body"> 30      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\n"</span><span class="style10">);</span>
<span class="body"> 31  </span><span class="style10">}</span>
<span class="body"> 32  </span><span class="style5">void </span><span class="style11">generateBillBody</span><span class="style10">(</span><span class="style5">char </span><span class="style11">item</span><span class="style10">[</span><span class="style4">30</span><span class="style10">],</span><span class="style5">int </span><span class="style11">qty</span><span class="style10">,</span><span class="style5">float </span><span class="style11">price</span><span class="style10">){</span>
<span class="body"> 33      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"%s\t\t"</span><span class="style10">,</span><span class="style11">item</span><span class="style10">);</span>
<span class="body"> 34      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"%d\t\t"</span><span class="style10">,</span><span class="style11">qty</span><span class="style10">);</span>
<span class="body"> 35      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"%.2f\t\t"</span><span class="style10">,</span><span class="style11">qty </span><span class="style10">* </span><span class="style11">price</span><span class="style10">);</span>
<span class="body"> 36      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n"</span><span class="style10">);</span>
<span class="body"> 37  </span><span class="style10">}</span>
<span class="body"> 38  </span>
<span class="body"> 39  </span>
<span class="body"> 40  </span>
<span class="body"> 41  </span><span class="style5">void </span><span class="style11">generateBillFooter</span><span class="style10">(</span><span class="style5">float </span><span class="style11">total</span><span class="style10">){</span>
<span class="body"> 42      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n"</span><span class="style10">);</span>
<span class="body"> 43      </span><span class="style5">float </span><span class="style11">dis </span><span class="style10">= </span><span class="style4">0.1 </span><span class="style10">* </span><span class="style11">total</span><span class="style10">;</span>
<span class="body"> 44      </span><span class="style5">float </span><span class="style11">netTotal </span><span class="style10">= </span><span class="style11">total </span><span class="style10">- </span><span class="style11">dis</span><span class="style10">;</span>
<span class="body"> 45      </span><span class="style5">float </span><span class="style11">exciseDuty </span><span class="style10">= </span><span class="style4">0.09</span><span class="style10">*</span><span class="style11">netTotal</span><span class="style10">,</span><span class="style11">grandTotal</span><span class="style10">=</span><span class="style11">netTotal </span><span class="style10">+ </span><span class="style4">2</span><span class="style10">*</span><span class="style11">exciseDuty</span><span class="style10">;</span>
<span class="body"> 46      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"------------------------------------------------------\n"</span><span class="style10">);</span>
<span class="body"> 47      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Sub Total\t\t\t%.2f"</span><span class="style10">,</span><span class="style11">total</span><span class="style10">);</span>
<span class="body"> 48      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nDiscount @10%s\t\t\t%.2f"</span><span class="style10">,</span><span class="style6">"%"</span><span class="style10">,</span><span class="style11">dis</span><span class="style10">);</span>
<span class="body"> 49      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\t\t\t\t----------"</span><span class="style10">);</span>
<span class="body"> 50      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nNet Total\t\t\t%.2f"</span><span class="style10">,</span><span class="style11">netTotal</span><span class="style10">);</span>
<span class="body"> 51      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nExciseDuty @9%s\t\t\t%.2f"</span><span class="style10">,</span><span class="style6">"%"</span><span class="style10">,</span><span class="style11">exciseDuty</span><span class="style10">);</span>
<span class="body"> 52      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nExciseDuty @9%s\t\t\t%.2f"</span><span class="style10">,</span><span class="style6">"%"</span><span class="style10">,</span><span class="style11">exciseDuty</span><span class="style10">);</span>
<span class="body"> 53      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n------------------------------------------------"</span><span class="style10">);</span>
<span class="body"> 54      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nGrand Total\t\t\t%.2f"</span><span class="style10">,</span><span class="style11">grandTotal</span><span class="style10">);</span>
<span class="body"> 55      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n-----------------------------------------------\n"</span><span class="style10">);</span>
<span class="body"> 56  </span><span class="style10">}</span>
<span class="body"> 57  </span><span class="style5">int </span><span class="style11">main</span><span class="style10">(){</span>
<span class="body"> 58      </span><span class="style5">float </span><span class="style11">total</span><span class="style10">;</span>
<span class="body"> 59      </span><span class="style5">int </span><span class="style11">opt</span><span class="style10">,</span><span class="style11">n </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 60      </span><span class="style5">struct </span><span class="style11">orders ord</span><span class="style10">;</span>
<span class="body"> 61      </span><span class="style5">struct </span><span class="style11">orders order</span><span class="style10">;</span>
<span class="body"> 62      </span><span class="style5">char </span><span class="style11">saveBill </span><span class="style10">= </span><span class="style7">'y'</span><span class="style10">,</span><span class="style11">contFlag </span><span class="style10">= </span><span class="style6">"y"</span><span class="style10">;</span>
<span class="body"> 63      </span><span class="style5">char </span><span class="style11">name</span><span class="style10">[</span><span class="style4">50</span><span class="style10">];</span>
<span class="body"> 64      </span><span class="style11">FILE </span><span class="style10">*</span><span class="style11">fp</span><span class="style10">;</span>
<span class="body"> 65         </span><span class="style2">//Dashboard</span>
<span class="body"> 66         </span><span class="style5">while</span><span class="style10">(</span><span class="style11">contFlag </span><span class="style10">== </span><span class="style7">'y'</span><span class="style10">){</span>
<span class="body"> 67      </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"clear"</span><span class="style10">);</span>
<span class="body"> 68      </span><span class="style5">float </span><span class="style11">total </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 69      </span><span class="style5">int </span><span class="style11">invoiceFound </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 70      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\t===========ADV. RESTAURANT==========="</span><span class="style10">);</span>
<span class="body"> 71      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\nPlease select your preferred operation"</span><span class="style10">);</span>
<span class="body"> 72      </span><span class="style11">Printf</span><span class="style10">(</span><span class="style6">"\n\n1.Generate Invoice"</span><span class="style10">);</span>
<span class="body"> 73      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n2.Show all Invoices"</span><span class="style10">);</span>
<span class="body"> 74      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n3.Search Invoice"</span><span class="style10">);</span>
<span class="body"> 75      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n4.Exit"</span><span class="style10">);</span>
<span class="body"> 76  </span>
<span class="body"> 77      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\nYour choice"</span><span class="style10">);</span>
<span class="body"> 78      </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%s"</span><span class="style10">,&amp;</span><span class="style11">opt</span><span class="style10">);</span>
<span class="body"> 79      </span><span class="style11">fgetc</span><span class="style10">(</span><span class="style11">stdin</span><span class="style10">);</span>
<span class="body"> 80      </span><span class="style5">switch</span><span class="style10">(</span><span class="style11">opt</span><span class="style10">){</span>
<span class="body"> 81      </span><span class="style5">case </span><span class="style4">1</span><span class="style10">:</span>
<span class="body"> 82          </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"clear"</span><span class="style10">);</span>
<span class="body"> 83          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nPlease enter the name of the customer\t"</span><span class="style10">);</span>
<span class="body"> 84          </span><span class="style11">fgets</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">,</span><span class="style4">50</span><span class="style10">,</span><span class="style11">stdin</span><span class="style10">);</span>
<span class="body"> 85          </span><span class="style11">ord</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">[</span><span class="style11">strlen</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">)-</span><span class="style4">1</span><span class="style10">] = </span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 86          </span><span class="style11">strcpy</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">date</span><span class="style10">,</span><span class="style11">_DATE_</span><span class="style10">);</span>
<span class="body"> 87          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nPlease enter the number of items:\t"</span><span class="style10">);</span>
<span class="body"> 88          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%d"</span><span class="style10">,&amp;</span><span class="style11">n</span><span class="style10">);</span>
<span class="body"> 89          </span><span class="style11">ord</span><span class="style10">.</span><span class="style11">numOfItems </span><span class="style10">= </span><span class="style11">n</span><span class="style10">;</span>
<span class="body"> 90          </span><span class="style5">for</span><span class="style10">(</span><span class="style5">int </span><span class="style11">i</span><span class="style10">=</span><span class="style4">0</span><span class="style10">;</span><span class="style11">i</span><span class="style10">&lt;</span><span class="style11">n</span><span class="style10">;</span><span class="style11">i</span><span class="style10">++){</span>
<span class="body"> 91                  </span><span class="style11">fgetc</span><span class="style10">(</span><span class="style11">stdin</span><span class="style10">);</span>
<span class="body"> 92          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\n"</span><span class="style10">);</span>
<span class="body"> 93          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Please enter the item %d:\t"</span><span class="style10">,</span><span class="style11">i</span><span class="style10">+</span><span class="style4">1</span><span class="style10">);</span>
<span class="body"> 94          </span><span class="style11">fgets</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">]</span><span class="style11">item</span><span class="style10">,</span><span class="style4">20</span><span class="style10">,</span><span class="style11">stdin</span><span class="style10">);</span>
<span class="body"> 95          </span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">item</span><span class="style10">[</span><span class="style11">strlen</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">item</span><span class="style10">)-</span><span class="style4">1</span><span class="style10">]=</span><span class="style4">0</span><span class="style10">;</span>
<span class="body"> 96          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Please enter the quantity:\t"</span><span class="style10">);</span>
<span class="body"> 97          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%d"</span><span class="style10">,&amp;</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">.</span><span class="style11">qty</span><span class="style10">);</span>
<span class="body"> 98          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Please enter the unit price:\t"</span><span class="style10">);</span>
<span class="body"> 99          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%f"</span><span class="style10">,&amp;</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">);</span>
<span class="body">100          </span><span class="style11">total </span><span class="style10">+=</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty </span><span class="style10">* </span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">;</span>
<span class="body">101          </span><span class="style10">}</span>
<span class="body">102  </span>
<span class="body">103          </span><span class="style11">generateBillHeade</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">,</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">date</span><span class="style10">);</span>
<span class="body">104          </span><span class="style5">for</span><span class="style10">(</span><span class="style5">int </span><span class="style11">i</span><span class="style10">=</span><span class="style4">0</span><span class="style10">;</span><span class="style11">i</span><span class="style10">&lt;</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">numOfItems</span><span class="style10">;</span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">105           </span><span class="style11">generrateBillBody</span><span class="style10">(</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">item</span><span class="style10">,</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty</span><span class="style10">,</span><span class="style11">ord</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">);</span>
<span class="body">106          </span><span class="style10">}</span>
<span class="body">107          </span><span class="style11">generateBillFooter</span><span class="style10">(</span><span class="style11">total</span><span class="style10">);</span>
<span class="body">108  </span>
<span class="body">109          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Do you want save the invoice:\t"</span><span class="style10">);</span>
<span class="body">110          </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%s"</span><span class="style10">,&amp;</span><span class="style11">saveBill</span><span class="style10">);</span>
<span class="body">111  </span>
<span class="body">112          </span><span class="style5">if</span><span class="style10">(</span><span class="style11">saveBill </span><span class="style10">== </span><span class="style7">'y'</span><span class="style10">){</span>
<span class="body">113                  </span><span class="style11">fp </span><span class="style10">= </span><span class="style11">fopen</span><span class="style10">(</span><span class="style6">"RestaurantBill.dat"</span><span class="style10">,</span><span class="style6">"a+"</span><span class="style10">);</span>
<span class="body">114                  </span><span class="style11">fwrite</span><span class="style10">(&amp;</span><span class="style11">ord</span><span class="style10">,</span><span class="style5">sizeof</span><span class="style10">{</span><span class="style5">struct </span><span class="style11">orders</span><span class="style10">},</span><span class="style4">1</span><span class="style10">,</span><span class="style11">fp</span><span class="style10">);</span>
<span class="body">115                  </span><span class="style5">if</span><span class="style10">(</span><span class="style11">fwrite </span><span class="style10">!= </span><span class="style4">0</span><span class="style10">)</span>
<span class="body">116                      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Successfully saved"</span><span class="style10">);</span>
<span class="body">117                  </span><span class="style5">else</span>
<span class="body">118                      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nError saving"</span><span class="style10">);</span>
<span class="body">119                  </span><span class="style11">fclose</span><span class="style10">(</span><span class="style11">fp</span><span class="style10">);</span>
<span class="body">120          </span><span class="style10">}</span>
<span class="body">121          </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">122  </span>
<span class="body">123      </span><span class="style5">case </span><span class="style4">2</span><span class="style10">:</span>
<span class="body">124          </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"clear"</span><span class="style10">);</span>
<span class="body">125          </span><span class="style11">fp </span><span class="style10">= </span><span class="style11">fopen</span><span class="style10">(</span><span class="style6">"Restaurant.dat"</span><span class="style10">,</span><span class="style6">"r"</span><span class="style10">);</span>
<span class="body">126          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n  *******Your Previous Invoices********\n"</span><span class="style10">);</span>
<span class="body">127          </span><span class="style5">while</span><span class="style10">(</span><span class="style11">fread</span><span class="style10">{&amp;</span><span class="style11">order</span><span class="style10">,</span><span class="style5">sizeof</span><span class="style10">(</span><span class="style5">struct </span><span class="style11">orders</span><span class="style10">),</span><span class="style4">1</span><span class="style10">,</span><span class="style11">fp</span><span class="style10">}){</span>
<span class="body">128                  </span><span class="style5">float </span><span class="style11">tot </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">129                  </span><span class="style11">generateBillHeader</span><span class="style10">(</span><span class="style11">order</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">date</span><span class="style10">);</span>
<span class="body">130                  </span><span class="style5">for</span><span class="style10">(</span><span class="style5">int </span><span class="style11">i</span><span class="style10">=</span><span class="style4">0</span><span class="style10">;</span><span class="style11">i</span><span class="style10">&lt;</span><span class="style11">order</span><span class="style10">.</span><span class="style11">numOfItems</span><span class="style10">;</span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">131                          </span><span class="style11">generateBillBody</span><span class="style10">(</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">item</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">);</span>
<span class="body">132                          </span><span class="style11">total</span><span class="style10">+=</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty </span><span class="style10">* </span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">;</span>
<span class="body">133                  </span><span class="style10">}</span><span class="style11">generateBillFooter</span><span class="style10">(</span><span class="style11">tot</span><span class="style10">);</span>
<span class="body">134          </span><span class="style10">}</span>
<span class="body">135          </span><span class="style11">fclose</span><span class="style10">(</span><span class="style11">fp</span><span class="style10">);</span>
<span class="body">136          </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">137  </span>
<span class="body">138      </span><span class="style5">case </span><span class="style4">3</span><span class="style10">:</span>
<span class="body">139          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nEnter the name of the customer:\t"</span><span class="style10">);</span>
<span class="body">140            </span><span class="style2">//fgetc(stdin);</span>
<span class="body">141          </span><span class="style11">fgets</span><span class="style10">(</span><span class="style11">name</span><span class="style10">,</span><span class="style4">50</span><span class="style10">,</span><span class="style11">stdin</span><span class="style10">);</span>
<span class="body">142          </span><span class="style11">name</span><span class="style10">[</span><span class="style11">strlean</span><span class="style10">(</span><span class="style11">name</span><span class="style10">)-</span><span class="style4">1</span><span class="style10">] = </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">143          </span><span class="style11">system</span><span class="style10">(</span><span class="style6">"clear"</span><span class="style10">);</span>
<span class="body">144          </span><span class="style11">fp </span><span class="style10">= </span><span class="style11">fopen</span><span class="style10">(</span><span class="style6">"Restaurant.dat"</span><span class="style10">,</span><span class="style6">"r"</span><span class="style10">);</span>
<span class="body">145          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\t  *****Invoice of %s *****"</span><span class="style10">,</span><span class="style11">name</span><span class="style10">);</span>
<span class="body">146          </span><span class="style5">while</span><span class="style10">(</span><span class="style11">fread</span><span class="style10">{&amp;</span><span class="style11">order</span><span class="style10">,</span><span class="style5">sizeof</span><span class="style10">(</span><span class="style5">struct </span><span class="style11">orders</span><span class="style10">),</span><span class="style4">1</span><span class="style10">,</span><span class="style11">fp</span><span class="style10">}){</span>
<span class="body">147                  </span><span class="style5">float </span><span class="style11">tot </span><span class="style10">= </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">148                  </span><span class="style5">if</span><span class="style10">(</span><span class="style11">strcmp </span><span class="style10">{</span><span class="style11">order</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">.</span><span class="style11">name</span><span class="style10">}){</span>
<span class="body">149                      </span><span class="style11">generateBillHeader</span><span class="style10">(</span><span class="style11">order</span><span class="style10">.</span><span class="style11">customer</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">date</span><span class="style10">);</span>
<span class="body">150                  </span><span class="style5">for</span><span class="style10">(</span><span class="style5">int </span><span class="style11">i</span><span class="style10">=</span><span class="style4">0</span><span class="style10">;</span><span class="style11">i</span><span class="style10">&lt;</span><span class="style11">order</span><span class="style10">.</span><span class="style11">numOfItems</span><span class="style10">;</span><span class="style11">i</span><span class="style10">++){</span>
<span class="body">151                          </span><span class="style11">generateBillBody</span><span class="style10">(</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">item</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty</span><span class="style10">,</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">);</span>
<span class="body">152                          </span><span class="style11">total</span><span class="style10">+=</span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">qty </span><span class="style10">* </span><span class="style11">order</span><span class="style10">.</span><span class="style11">itm</span><span class="style10">[</span><span class="style11">i</span><span class="style10">].</span><span class="style11">price</span><span class="style10">;</span>
<span class="body">153                  </span><span class="style10">}</span>
<span class="body">154                  </span><span class="style11">generateBillFooter</span><span class="style10">(</span><span class="style11">tot</span><span class="style10">);</span>
<span class="body">155                  </span><span class="style11">invoiceFound </span><span class="style10">= </span><span class="style4">1</span><span class="style10">;</span>
<span class="body">156                  </span><span class="style10">}</span>
<span class="body">157  </span>
<span class="body">158  </span>
<span class="body">159          </span><span class="style10">}</span>
<span class="body">160          </span><span class="style5">if</span><span class="style10">(!</span><span class="style11">invoiceFound</span><span class="style10">){</span>
<span class="body">161                  </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Sorry the invoice for %s does not exist"</span><span class="style10">,</span><span class="style11">name</span><span class="style10">);</span>
<span class="body">162          </span><span class="style11">fclose</span><span class="style10">(</span><span class="style11">fp</span><span class="style10">);</span>
<span class="body">163          </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">164  </span>
<span class="body">165  </span>
<span class="body">166      </span><span class="style5">case </span><span class="style4">4</span><span class="style10">:</span>
<span class="body">167          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\t\t Bye Bye :\n\n"</span><span class="style10">);</span>
<span class="body">168          </span><span class="style11">exit</span><span class="style10">(</span><span class="style4">0</span><span class="style10">);</span>
<span class="body">169          </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">170  </span>
<span class="body">171      </span><span class="style5">default</span><span class="style10">:</span>
<span class="body">172          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"Sorry invalid option"</span><span class="style10">);</span>
<span class="body">173          </span><span class="style5">break</span><span class="style10">;</span>
<span class="body">174  </span>
<span class="body">175         </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\nDo you want to perform another operation?[y/n]:\t"</span><span class="style10">);</span>
<span class="body">176         </span><span class="style11">scanf</span><span class="style10">(</span><span class="style6">"%s"</span><span class="style10">,</span><span class="style11">contFlag</span><span class="style10">);</span>
<span class="body">177          </span><span class="style10">}</span>
<span class="body">178          </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\t\t Bye Bye :\n\n"</span><span class="style10">);</span>
<span class="body">179      </span><span class="style11">printf</span><span class="style10">(</span><span class="style6">"\n\n"</span><span class="style10">);</span>
<span class="body">180  </span>
<span class="body">181      </span><span class="style5">return </span><span class="style4">0</span><span class="style10">;</span>
<span class="body">182  </span>
<span class="body">183  </span>
<span class="body">184  </span></span>
</code></pre>
</body>
</html>
